{
    "docs": [
        {
            "location": "/", 
            "text": "", 
            "title": "Home"
        }, 
        {
            "location": "/cisco/", 
            "text": "General Troubleshooting\n\n\nIOS-XR\n\n\n!Check Policy-Map drops/number of packet matching the policy.\n\n\nshow policy-map interface $PHYSICAL_INTERFACE service instance $SVC_INST_ID\n\n\n\n\n\n!Show l2vpn xconnect status (ASR 9k)\n\n\nshow l2vpn service xconnect interface gigabitEthernet 0/1\n\n\n\n\n\n!Show l2vpn xconnect status with details (ASR 9k)\n\n\nshow l2vpn xconnect neighbor 192.252.143.75 pw-id 702 detail\n\n\n\n\n\n!Show service-instance traffic details (not xconnect, just local service instance)\n\n\nshow ethernet service instance id 205 int ten0/3/0 detail\n\n\n\n\n\nshow mpls l2transport vc vcid 395 detail\n\n\n\n\n\n!ASR 9000 | IOS-XE\n\n\nshow l2vpn service xconnect interface TenGigabitEthernet0/3/0\n\n\n\n\n\nshow l2vpn xconnect group OPEN01 xc-name OPEN01-C220\n\n\n\n\n\nshow l2vpn xconnect group PARA07 detail\n\n\n\n\n\n!BGP stuff | IOS-XE\n\n\nshow bgp summary | inc NEIGHBOR_IP\n\n\n\n\n\n!BGP stuff | IOS-XR\n\n\nshow ip bgp summary\nshow ip bgp neighbors\nshow ip bgp neighbors 1.1.1.1\n\n\n\n\n\n!Montrer les routes recu d'un neighbor en particulier\n\n\nconf t\nrouter bgp AS_NUMBER\n\n\n\n\n\n!Il faut activer le log des routes pour chacun des neighbors BGP concern\u00e9s\n\n\nneighbor 1.1.1.1 soft-reconfiguration inbound\nexit\nsh ip bgp neighbors 1.1.1.1 received-routes\nsh ip bgp neighbors 1.1.1.1 advertised-routes\n\n\n\n\n\nconf t\nrouter bgp AS_NUMBER\nneighbor 1.1.1.1 shutdown\n\n\n\n\n\n!Satellite 9k light levels\n\n\nshow nV satellite status\ntelnet vrf **nVSatellite 10.0.100.1\n!GigabitEthernet112/0/0/17 ---\n Satellite 112\ntelnet vrf **nVSatellite 10.0.112.1\n!Port 17 on ASR = Port 18 on Satellite\nsh satellite powerlevels port 30\n\n\n\n\n\nhttps://www.cisco.com/c/en/us/td/docs/routers/access/4400/troubleshooting/memorytroubleshooting/isr4000_mem.html\n\n\nhttps://www.cisco.com/c/en/us/support/docs/routers/4000-series-integrated-services-routers/210760-Monitor-CPU-Usage-On-ISR4300-Series.html\n\n\nshow process cpu sorted | ex 0.0\n\n\n\n\n\nshow platform hardware qfp active datapath utilization\n\n\n\n\n\nshow platform software status control-processor\n\n\n\n\n\nshow platform software status control-processor brief\n\n\n\n\n\nshow processes cpu platform sorted\n\n\n\n\n\nshow platform software status control-processor brief\n\n\n\n\n\nShow CPU and Memory like \"htop\" for Linux\n\n\nmonitor platform software process rp active", 
            "title": "Cisco"
        }, 
        {
            "location": "/cisco/#general-troubleshooting", 
            "text": "IOS-XR  !Check Policy-Map drops/number of packet matching the policy.  show policy-map interface $PHYSICAL_INTERFACE service instance $SVC_INST_ID  !Show l2vpn xconnect status (ASR 9k)  show l2vpn service xconnect interface gigabitEthernet 0/1  !Show l2vpn xconnect status with details (ASR 9k)  show l2vpn xconnect neighbor 192.252.143.75 pw-id 702 detail  !Show service-instance traffic details (not xconnect, just local service instance)  show ethernet service instance id 205 int ten0/3/0 detail  show mpls l2transport vc vcid 395 detail  !ASR 9000 | IOS-XE  show l2vpn service xconnect interface TenGigabitEthernet0/3/0  show l2vpn xconnect group OPEN01 xc-name OPEN01-C220  show l2vpn xconnect group PARA07 detail  !BGP stuff | IOS-XE  show bgp summary | inc NEIGHBOR_IP  !BGP stuff | IOS-XR  show ip bgp summary\nshow ip bgp neighbors\nshow ip bgp neighbors 1.1.1.1  !Montrer les routes recu d'un neighbor en particulier  conf t\nrouter bgp AS_NUMBER  !Il faut activer le log des routes pour chacun des neighbors BGP concern\u00e9s  neighbor 1.1.1.1 soft-reconfiguration inbound\nexit\nsh ip bgp neighbors 1.1.1.1 received-routes\nsh ip bgp neighbors 1.1.1.1 advertised-routes  conf t\nrouter bgp AS_NUMBER\nneighbor 1.1.1.1 shutdown  !Satellite 9k light levels  show nV satellite status\ntelnet vrf **nVSatellite 10.0.100.1\n!GigabitEthernet112/0/0/17 ---  Satellite 112\ntelnet vrf **nVSatellite 10.0.112.1\n!Port 17 on ASR = Port 18 on Satellite\nsh satellite powerlevels port 30  https://www.cisco.com/c/en/us/td/docs/routers/access/4400/troubleshooting/memorytroubleshooting/isr4000_mem.html  https://www.cisco.com/c/en/us/support/docs/routers/4000-series-integrated-services-routers/210760-Monitor-CPU-Usage-On-ISR4300-Series.html  show process cpu sorted | ex 0.0  show platform hardware qfp active datapath utilization  show platform software status control-processor  show platform software status control-processor brief  show processes cpu platform sorted  show platform software status control-processor brief  Show CPU and Memory like \"htop\" for Linux  monitor platform software process rp active", 
            "title": "General Troubleshooting"
        }, 
        {
            "location": "/ccna/", 
            "text": "Cisco Security\n\n\nUser and access management\n\n\nEnable secret takes precedence over enable password.\n\n\nenable password potato\nenable secret potato2\n\nenable password = potato2\n\n\n\n\n\nCreate user with default privilege 15 level\n\n\nconf t\nusername $USERNAME privilege 15 secret $PASSWORD\n\n\n\n\n\nlogin = password and username of the vty itself.\nlogin local = Local username database\n\n\nconf t\nline con 0\nlogin local\nexec-timeout 0 0\nlogging synchronous\n\n\n\n\n\nLine VTY user are set to privilege 15 automatically.\n\n\nconf t\nline vty 0 15\nprivilege level 15\n\n\n\n\n\nservice password-encryption\n\n\n\n\n\nPort-Security\n\n\nEnabling port security on port\nCannot be enabled on a trunk/dynamic/auto port. Must be an access port.\n\n\nconf\n \nt\n\n\ninterface\n \ngigabitethernet0\n/\n1\n\n\nswitchport\n \nport\n-\nsecurity\n\n\n\n\n\n\nKeep MAC addresses when port-shutdown or switch reload.\n\n\nconf\n \nt\n\n\ninterface\n \ngigabitethernet0\n/\n1\n\n\nswitchport\n \nport\n-\nsecurity\n\n\nswitchport\n \nport\n-\nsecurity\n \nmac\n-\naddress\n \nsticky\n\n\n\n\n\n\nMac aging\n\n\nDynamic MAC aging default = 0\n\nabsolute timer = Counts down irregardless of traffic\n\ninactivity timer = resets when traffic is seen from MAC.\n\nmaximum - Default 1\nIf you raise the number of max MAC addresses on a port, you can run static and dynamic MAC detection.\n\n\nViolation option\n\n\nprotect\n - Drops traffic, no SYSLOG, no SNMP Trap, no counters increased  \n\n\nrestrict\n - Drops traffic, generate SNMP trap, generate SYSLOG.\n\n\nshutdown\n - Default, increase violation counters, Port shutdown in error-disabled.  \n\n\nShow port-security commands\n\n\nshow port-security interface fastethernet 0/1\n\n\n\n\n\nshow port-security address\n\n\n\n\n\nError disabled recovery\n\nDefault recovery 300 seconds\n\n\nconf t\nerrordisable recovery cause ?\nerrordisable recovery cause psecure-violation\nerrdisable recovery interval 30\n\n\n\n\n\nshow errdisable recovery\n\n\n\n\n\nVLAN interfaces (SVI)\n\n\n\n\nLayer 2 vlan must exist\n\n\nPhysical interface with vlan attached to must be in UP and UP.\n\n\nCan be a trunk with vlan allowed or an access port with the vlan.\n\n\n\n\nAutonegociation - Speed and Duplex\n\n\n\n\nHighest speed supported by both is used.\n\n\nFull duplex supported by both is used.\n\n\nDO NOT\n set one side auto and the other side forced.\n\n\nSymptoms --\n Slow Upload, irregular speed, packet loss, CRC/Runt frames errors on the interface\n\n\n\n\nInterface range\n\n\ninterface\n \nrange\n \nfastethernet\n \n0\n/\n1\n-\n24\n\n\ninterface\n \nrange\n \nfastethernet\n \n0\n/\n1\n-\n24\n,\n25\n,\n26\n\n\n\n\n\n\nTCP and UDP\n\n\nTCP\n\n\n\n\nGuarantees delivery of segments\n\n\nError Detection and recovery\n\n\nSequence numbers and ACK to recover from lost/corrupt packets\n\n\nTCP Windowing\n\n\nConnection-oriented\n\n\nThree-way handshake\n\n\nSYN FLAG / ACK FLAG\n\n\nSource ---\n Destination : SYN\n\n\nDestination ---\n Source : SYN-ACK\n\n\nSource ---\n Destination : ACK\n\n\nConnection Established\n\n\nWhen connection is terminated - 4 Way Handshake\n\n\nClient ---\n Server : FIN, ACK\n\n\nClient \n--- Server : ACK\n\n\nClient \n--- Server : ACK, FIN\n\n\nClient ---\n Server : ACK\n\n\nFlow control and Windowing\n\n\nThe receiver increases the Window size / controls the flow.\n\n\nThe receiver asks for more data when traffic flows well --\n No errors/retransmits on packets.\n\n\n\n\n\n\nUDP\n\n\n\n\n\"Best Effort\"\n\n\nNo Error Detection\n\n\nNo Windowing\n\n\nConnectionless - Data is sent without the remote peer being aware.\n\n\n\n\nPort Numbers\n\n\nWell-known port number\n\n| Protocol / Transport  | Port  |\n|-------------|-----|\n| HTTPS / TCP | 443 |\n| SNMP / UDP  | 161 |\n| SMTP / TCP  | 25 |\n| TELNET / TCP  | 22 |\n| SSH / TCP  | 23 |\n\n\nSocket ---\n Combination of an ipaddress and a port number.\n\n192.168.1.1:10000\n\n\nDHCP\n\n\nDORA\nDiscover - Broadcast from client.\nOffer - DHCP server receives Discover and sends unicast offer to client.\nRequest - Client sends request for the offered IP address.\nAck - DHCP server ack the client request and assigns the IP.\n\n\nRouting - Static Routes\n\n\nip route destination_subnet destination_mask [local-router-exit-interface | next-hop-ip-address]\n\nip route 2.2.2.2 255.255.255.0 192.168.1.1\n\n#Default Route\nip route 0.0.0.0 0.0.0.0 [local-router-exit-interface | next-hop-ip-address]\n\n\n\n\n\nRouting - Distance Vector Protocols\n\n\nRIPv1 | IGRP\n\n\n Full route table update at fixed interval. Every 30 seconds for RIP.\n\n Do not subnet VLSM.\n* No Packet authentication.\n\n\nRIPv2\n\n\n Supports VLSM\n\n Multicasts from router updates - 224.0.0.9\n\n Supports Authentication\n\n Supports route summarization.\n\n\nSplit Horizon\n\n\n A route cannot be advertised via an interface that received the route in the first place.\n\n No split horizon on frame-relay.\n\n\nRoute Poisoning\n\n\n When all routers have the same routing table --\n State of convergence\n\n Slow to converge\n* When router removes a subnet that is local to itself.\n  * Send update that shows 16 hops for the removed subnet.\n  * Other routers will receive the update and remove the route from their own routing tables as 16 hops marks a subnet as unreachable.\n\n\nHops\n\n\n Measures of distance to reach a specific subnet.\n\n Does not care about interface speed - only hop count.\n\n\nEnabling RIPv2\n\n\nconf\n \nt\n\n\nrouter\n \nrip\n\n\n\n#\nShow\n \nprotocols\n \nactive\n \non\n \nrouter\n\n\nshow\n \nip\n \nprotocols\n\n\n\n#\nEnable\n \nspecific\n \nversion\n \nof\n \nRIPv2\n \nper\n \ninterface\n \nor\n \nglobal\n.\n\n\ninterface\n \ngig0\n/\n1\n\n\nip\n \nrip\n \nsend\n \nversion\n \n2\n\n\n\nconf\n \nt\n\n\nrouter\n \nrip\n\n\nrip\n \nversion\n \n2\n\n\nnetwork\n \n10.10\n.\n10.0\n\n\nnetwork\n \n10.10\n.\n11.0\n\n\n\n#\nDisable\n \nauto\n \nsummary\n\n\nconf\n \nt\n\n\nrouter\n \nrip\n\n\nno\n \nauto\n-\nsummary\n\n\n\n#\nEnable\n \nsplit\n \nHorizon\n\n\ninterface\n \nserial0\n/\n1\n/\n0\n\n\nip\n \nsplit\n-\nhorizon", 
            "title": "Cisco-CCNA"
        }, 
        {
            "location": "/ccna/#cisco-security", 
            "text": "", 
            "title": "Cisco Security"
        }, 
        {
            "location": "/ccna/#user-and-access-management", 
            "text": "Enable secret takes precedence over enable password.  enable password potato\nenable secret potato2\n\nenable password = potato2  Create user with default privilege 15 level  conf t\nusername $USERNAME privilege 15 secret $PASSWORD  login = password and username of the vty itself.\nlogin local = Local username database  conf t\nline con 0\nlogin local\nexec-timeout 0 0\nlogging synchronous  Line VTY user are set to privilege 15 automatically.  conf t\nline vty 0 15\nprivilege level 15  service password-encryption", 
            "title": "User and access management"
        }, 
        {
            "location": "/ccna/#port-security", 
            "text": "Enabling port security on port\nCannot be enabled on a trunk/dynamic/auto port. Must be an access port.  conf   t  interface   gigabitethernet0 / 1  switchport   port - security   Keep MAC addresses when port-shutdown or switch reload.  conf   t  interface   gigabitethernet0 / 1  switchport   port - security  switchport   port - security   mac - address   sticky", 
            "title": "Port-Security"
        }, 
        {
            "location": "/ccna/#mac-aging", 
            "text": "Dynamic MAC aging default = 0 \nabsolute timer = Counts down irregardless of traffic \ninactivity timer = resets when traffic is seen from MAC. \nmaximum - Default 1\nIf you raise the number of max MAC addresses on a port, you can run static and dynamic MAC detection.", 
            "title": "Mac aging"
        }, 
        {
            "location": "/ccna/#violation-option", 
            "text": "protect  - Drops traffic, no SYSLOG, no SNMP Trap, no counters increased    restrict  - Drops traffic, generate SNMP trap, generate SYSLOG.  shutdown  - Default, increase violation counters, Port shutdown in error-disabled.    Show port-security commands  show port-security interface fastethernet 0/1  show port-security address  Error disabled recovery \nDefault recovery 300 seconds  conf t\nerrordisable recovery cause ?\nerrordisable recovery cause psecure-violation\nerrdisable recovery interval 30  show errdisable recovery", 
            "title": "Violation option"
        }, 
        {
            "location": "/ccna/#vlan-interfaces-svi", 
            "text": "Layer 2 vlan must exist  Physical interface with vlan attached to must be in UP and UP.  Can be a trunk with vlan allowed or an access port with the vlan.", 
            "title": "VLAN interfaces (SVI)"
        }, 
        {
            "location": "/ccna/#autonegociation-speed-and-duplex", 
            "text": "Highest speed supported by both is used.  Full duplex supported by both is used.  DO NOT  set one side auto and the other side forced.  Symptoms --  Slow Upload, irregular speed, packet loss, CRC/Runt frames errors on the interface", 
            "title": "Autonegociation - Speed and Duplex"
        }, 
        {
            "location": "/ccna/#interface-range", 
            "text": "interface   range   fastethernet   0 / 1 - 24  interface   range   fastethernet   0 / 1 - 24 , 25 , 26", 
            "title": "Interface range"
        }, 
        {
            "location": "/ccna/#tcp-and-udp", 
            "text": "", 
            "title": "TCP and UDP"
        }, 
        {
            "location": "/ccna/#tcp", 
            "text": "Guarantees delivery of segments  Error Detection and recovery  Sequence numbers and ACK to recover from lost/corrupt packets  TCP Windowing  Connection-oriented  Three-way handshake  SYN FLAG / ACK FLAG  Source ---  Destination : SYN  Destination ---  Source : SYN-ACK  Source ---  Destination : ACK  Connection Established  When connection is terminated - 4 Way Handshake  Client ---  Server : FIN, ACK  Client  --- Server : ACK  Client  --- Server : ACK, FIN  Client ---  Server : ACK  Flow control and Windowing  The receiver increases the Window size / controls the flow.  The receiver asks for more data when traffic flows well --  No errors/retransmits on packets.", 
            "title": "TCP"
        }, 
        {
            "location": "/ccna/#udp", 
            "text": "\"Best Effort\"  No Error Detection  No Windowing  Connectionless - Data is sent without the remote peer being aware.", 
            "title": "UDP"
        }, 
        {
            "location": "/ccna/#port-numbers", 
            "text": "Well-known port number \n| Protocol / Transport  | Port  |\n|-------------|-----|\n| HTTPS / TCP | 443 |\n| SNMP / UDP  | 161 |\n| SMTP / TCP  | 25 |\n| TELNET / TCP  | 22 |\n| SSH / TCP  | 23 |  Socket ---  Combination of an ipaddress and a port number. \n192.168.1.1:10000", 
            "title": "Port Numbers"
        }, 
        {
            "location": "/ccna/#dhcp", 
            "text": "DORA\nDiscover - Broadcast from client.\nOffer - DHCP server receives Discover and sends unicast offer to client.\nRequest - Client sends request for the offered IP address.\nAck - DHCP server ack the client request and assigns the IP.", 
            "title": "DHCP"
        }, 
        {
            "location": "/ccna/#routing-static-routes", 
            "text": "ip route destination_subnet destination_mask [local-router-exit-interface | next-hop-ip-address]\n\nip route 2.2.2.2 255.255.255.0 192.168.1.1\n\n#Default Route\nip route 0.0.0.0 0.0.0.0 [local-router-exit-interface | next-hop-ip-address]", 
            "title": "Routing - Static Routes"
        }, 
        {
            "location": "/ccna/#routing-distance-vector-protocols", 
            "text": "RIPv1 | IGRP   Full route table update at fixed interval. Every 30 seconds for RIP.  Do not subnet VLSM.\n* No Packet authentication.  RIPv2   Supports VLSM  Multicasts from router updates - 224.0.0.9  Supports Authentication  Supports route summarization.  Split Horizon   A route cannot be advertised via an interface that received the route in the first place.  No split horizon on frame-relay.  Route Poisoning   When all routers have the same routing table --  State of convergence  Slow to converge\n* When router removes a subnet that is local to itself.\n  * Send update that shows 16 hops for the removed subnet.\n  * Other routers will receive the update and remove the route from their own routing tables as 16 hops marks a subnet as unreachable.  Hops   Measures of distance to reach a specific subnet.  Does not care about interface speed - only hop count.", 
            "title": "Routing - Distance Vector Protocols"
        }, 
        {
            "location": "/ccna/#enabling-ripv2", 
            "text": "conf   t  router   rip  # Show   protocols   active   on   router  show   ip   protocols  # Enable   specific   version   of   RIPv2   per   interface   or   global .  interface   gig0 / 1  ip   rip   send   version   2  conf   t  router   rip  rip   version   2  network   10.10 . 10.0  network   10.10 . 11.0  # Disable   auto   summary  conf   t  router   rip  no   auto - summary  # Enable   split   Horizon  interface   serial0 / 1 / 0  ip   split - horizon", 
            "title": "Enabling RIPv2"
        }, 
        {
            "location": "/linux/", 
            "text": "Rancid - Check which devices are impacted\n\n\nsort var/logs/VPN.20180109.070410  \n|\n grep -i key \n|\n uniq\n\n\n\n\n\nRancid - Only show the device name to pipe into ssh-keygen\n\n\nsort var/logs/VPN.20180109.070410  | grep -i key | uniq | grep -Eo \n^[^ ]+\n\n\n\n\n\n\nsort /opt/rancid/var/logs/VPN.20180111.064300  | grep -i key | uniq | grep -Eo \n^[^ ]+\n\n\n\n\n\n\nSSH - Remove the public keys\n\n\nssh-keygen -f \n/opt/rancid/.ssh/known_hosts\n -R ###REMOTE_IP_OF_DEVICE###\n\n\n\n\n\nBIND DNS - Check the master zones (not ARPA or random files ) we are hosting\n\n\nls -alh --ignore=*.arpa* | wc -\n\n\n\n\n\nSMART HD Data - Get useful smartctl data\n\n\nsudo smartctl -a /dev/sdb | egrep \nSpin_Up_Time|Reallocated_Sector_Ct|Temperature|Current_Pending_Sector|Offline_Uncorrectable|Power_On_Hours\n\n\n\n\n\n\nNetwork - Create TAP Interface\n\n\ntunctl -t tap0\nifconfig tap0 10.1.1.100 netmask 255.255.255.0 up\n\n\n\n\n\nStart Linux stress test\n\n\nscreen -S stress-test -d -m stress --cpu 100 --io 100 --vm 20 --vm-bytes 1G --hdd 5 --timeout 24h", 
            "title": "Generic Linux"
        }, 
        {
            "location": "/gluster/", 
            "text": "sudo gluster peer probe kube2\n\n\n\n\n\nsudo gluster peer status\n\n\n\n\n\nsudo gluster volume create gluster-vol-1 replica 2 transport tcp kube1:/gluster/gluster-vol-1 kube2:/gluster/gluster-vol-1\n\n\n\n\n\nsudo gluster volume start gluster-vol-1", 
            "title": "Gluster"
        }, 
        {
            "location": "/prometheus/", 
            "text": "#Docker volume - Prometheus config\nsudo docker volume create prometheus-config\n\n#Docker volume - Prometheus metrics and adata\nsudo docker volume create prometheus-data\n\nsudo docker run -d -p 9090:9090 -v prometheus-config:/prometheus-config -v prometheus-data:/prometheus prom/prometheus --config.file=/prometheus-config/prometheus.yml\n\n\n\n\n\nGrafana container\n\n\nsudo docker volume create grafana-config\nsudo docker run \\\n  -d \\\n  -p 3000:3000 \\\n  --name=grafana \\\n  -v grafana-storage:/var/lib/grafana \\\n  -e \nGF_SECURITY_ADMIN_PASSWORD=PASSWORD_HERE\n \\\n  grafana/grafana", 
            "title": "Prometheus"
        }, 
        {
            "location": "/iperf/", 
            "text": "UDP TEST (DDOS like test where you send traffic to the other endpoint without any policing.\n\niPerf3 does not allow you to send traffic directly for UDP. It needs to \"connect\" to an iPerf3 endpoint, even for UDP.\n\n\n./iperf -c TARGET_IP -u -i 2 -b 9m -t 600\n\n\n\n\n\nIPERF SERVER TCP\n\n\n./iperf -s -i 2\n\n\n\n\n\nIPERF CLIENT TCP UPLOAD AND THEN DOWNLOAD\n\n\n./iperf -c IPERF_SERVER -i 2 -t 100 -p 5001 -P5 -w 1M -R\n\n\n\n\n\nIPERF CLIENT TCP UPLOAD AND DOWNLOAD AT THE SAME TIME\n\n\n./iperf -c IPERF_SERVER -i 2 -t 100 -p 5001 -P5 -w 1M -d", 
            "title": "iPerf"
        }
    ]
}